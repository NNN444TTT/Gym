{% extends 'workouts/base.html' %}

{% block title %}History - Gym Tracker{% endblock %}

{% block content %}
<div class="dashboard">
    <header class="dashboard-header">
        <h1>Workout History</h1>
        <a href="{% url 'dashboard' %}" class="btn btn-secondary">← Dashboard</a>
    </header>
    
    {% include 'workouts/nav.html' %}
    
    <div class="stats-grid">
        <div class="stat-card">
            <span class="stat-value">{{ sessions_this_month }}</span>
            <span class="stat-label">Sessions This Month</span>
        </div>
    </div>
    
    <div class="calendar-container">
        <div class="calendar-header">
            <a href="?year={{ prev_year }}&month={{ prev_month }}" class="btn btn-secondary">← Prev</a>
            <h2>{{ month_name }}</h2>
            <a href="?year={{ next_year }}&month={{ next_month }}" class="btn btn-secondary">Next →</a>
        </div>
        
        <div class="calendar-grid">
            <div class="calendar-day-header">Mon</div>
            <div class="calendar-day-header">Tue</div>
            <div class="calendar-day-header">Wed</div>
            <div class="calendar-day-header">Thu</div>
            <div class="calendar-day-header">Fri</div>
            <div class="calendar-day-header">Sat</div>
            <div class="calendar-day-header">Sun</div>
            
            {% for day in calendar_days %}
            {% if day.has_session and not day.other_month %}
                <a href="{% url 'history_day' day.date.year day.date.month day.date.day %}" 
                   class="calendar-day has-session {% if day.is_today %}today{% endif %} {% if day.other_month %}other-month{% endif %}">
                    {{ day.day }}
                </a>
            {% else %}
                <div class="calendar-day {% if day.is_today %}today{% endif %} {% if day.other_month %}other-month{% endif %}">
                    {{ day.day }}
                </div>
            {% endif %}
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}
